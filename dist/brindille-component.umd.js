!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).brindilleComponent=t()}(this,function(){return function(){function n(n,t){void 0===t&&(t=null),this.$el=n,this.componentName="",this.refs={},this._componentInstances=[],this.root=this,this.parent=null,t&&this.init(t)}var t,e=n.prototype;return e.$one=function(n){return this.$el.querySelector(n)},e.$all=function(n){return[].slice.call(this.$el.querySelectorAll(n))},e.init=function(n){void 0===n&&(n=null),this.definitions=n instanceof Function?n:null==n?function(){return null}:function(t){return n[t]},this.parse(),this.root===this&&this.onAppReady()},e.onAppReady=function(){this._componentInstances.forEach(function(n){return n.onAppReady()})},e.dispose=function(){this.disposeChildren(),this.destroy()},e.disposeChildren=function(){this._componentInstances.forEach(function(n){n.dispose()}),this._componentInstances=[],this.refs={}},e.replaceContent=function(n){this.disposeChildren(),this.$el.innerHTML=n,this.parse()},e.destroy=function(){this.parent&&this.$el.parentNode&&this.$el.parentNode===this.parent.$el&&this.parent.$el.removeChild(this.$el),this.parent=null,this.$el=null},e.findInstance=function(n){var t=this._componentInstances.filter(function(t){return t.componentName===n});if(t&&t.length)return t[0];for(var e=0,o=this._componentInstances.length;e<o;e++){var i=this._componentInstances[e].findInstance(n);if(i)return i}return null},e.findAllInstances=function(n){for(var t=this._componentInstances.filter(function(t){return t.componentName===n}),e=0,o=this._componentInstances.length;e<o;e++)t=t.concat(this._componentInstances[e].findAllInstances(n));return t},e.parse=function(){var n=this;!function n(t,e){var o,i;t=null==(i=t)?[]:Array.isArray(i)?i:[i];for(var s=0,r=(t=[].slice.call(t)).length;s<r;s++)(o=t[s])&&o.hasAttribute&&o.hasAttribute("data-component")?e(o):o.childNodes&&o.childNodes.length&&n([].slice.call(o.childNodes),e)}(this.$el,function(t){var e,o,i=t&&t.getAttribute?t.getAttribute("data-component"):"";1===t.nodeType&&i&&("FORM"===t.tagName&&console.warn("FORM tag does not support data-component. You should encapsulate the <form> with a <div> in component "+i),(e=n.definitions(i))?(t.removeAttribute("data-component"),(o=new e(t)).componentName=i,o.parent=n,o.root=n.root,o.init(n.definitions),n._componentInstances.push(o),t.getAttribute("data-ref")&&(n.refs[t.getAttribute("data-ref")]=o)):console.warn("Can't find component '"+i+"'"))}),this.ready()},e.ready=function(){},(t=[{key:"componentInstances",get:function(){return this._componentInstances}}])&&function(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(n.prototype,t),n}()});
//# sourceMappingURL=brindille-component.umd.js.map
